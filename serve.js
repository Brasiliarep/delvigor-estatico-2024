const express=require('express');const fs=require('fs');const produtos=JSON.parse(fs.readFileSync('./data/produtos.json','utf8'));const app=express();app.use(express.static('.'));app.get('/api/produtos',(_q,r)=>r.json(produtos));app.get('/',(_q,r)=>r.send('<!DOCTYPE html><html lang="pt-br"><head><meta charset="utf-8"/><title>DelVigor</title><style>body{font-family:sans-serif;margin:0;background:#f2f2f2}header{background:#1e88e5;color:#fff;padding:1rem;text-align:center}.grid{display:grid;gap:1rem;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));padding:1rem}.card{background:#fff;border-radius:8px;box-shadow:0 2px 4px rgba(0,0,0,.15);padding:1rem;display:flex;flex-direction:column}.card img{height:160px;object-fit:cover;border-radius:4px;width:100%}h3{margin:.5rem 0;font-size:1.15rem}.price{font-size:1.2rem;font-weight:700;color:#1e88e5}.categ{font-size:.8rem;color:#666}</style></head><body><header>🐄 DelVigor – Sempre Fresquinha</header><section id="produtos" class="grid"></section><script>fetch("/api/produtos").then(r=>r.json()).then(l=>{document.getElementById("produtos").innerHTML=l.map(p=><div class="card"><img src="" alt=""><h3></h3><div class="price">de <s>R$ </s> por <b>R$ </b></div><div class="categ"></div></div>).join("")});</script></body></html>'));const PORT=process.env.PORT||3000;app.listen(PORT,()=>console.log("http://localhost:"+PORT));
